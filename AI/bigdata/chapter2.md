# chapter 2

## 빅데이터 플랫폼

- 빅데이터 수집부터 저장, 처리, 분석 등 전 과정을 통합적으로 제공  
- 그 기술들을 잘 사용할 수 있도록 준비된 환경

## 빅데이터 플랫폼의 등장 배경

- 비지니스 요구사항 변화
- 데이터 규모와 처리 복잡도 증가
- 데이터 구조의 변화와 신속성 요구
- 데이터 분석 유연성 증대 
  - 다양한 방법론을 통해 텍스트, 음성, 이미지, 동영상 등 요소들의 분석이 가능

## 빅데이터 플랫폼의 구조

- 소프트웨어 계층
  - 데이터 처리 및 분석 엔진
    - 데이터 처리 및 분석
    - 처리 및 분석 워크플로우 구성
    - 데이터 표현
  - 데이터 수집 및 정제 모듈
    - 데이터 추출
    - 데이터 변환
    - 데이터 적재
  - 서비스 관리 모듈
  - 사용자 관리 모듈
    - 인증 및 접속 관리
    - 사용자 서비스 관리
    - SLA 관리
  - 모니터링 모듈
    - 서비스 모니터링
  - 보안 모듈
- 플랫폼 계층
  - 사용자 요청 파싱 모듈
  - 작업 스케쥴링 모듈
  - 데이터 및 자원 할당 모듈
    - 초기 데이터 할당
    - 데이터 재할당 및 복제
    - 초기 지원 할당
    - 지원 재할당 및 스케일링 
  - 프로파일링 모듈
    - 자원 프로파일링 
    - 응용 프로파일링
    - 응용 시뮬
  - 데이터 관리 모듈
  - 자원 관리 모듈
  - 서비스 관리 모듈
  - 사용자 관리 모듈
    - 인증 및 접속 관리
    - 사용자 서비스 관리
    - SLA 관리 
  - 모니터링 모듈
    - 서비스 모니터링
  - 보안 모듈
- 인프라 스트럭처 계층
  - 사용자 요청 파싱 모듈
  - 자원 배치 모듈
    - 초기 자원 배치
    - 자원 재할당 및 스케일링
  - 노드 관리 모듈
  - 스토리지 관리 모듈
  - 네트워크 관리 모듈
  - 서비스 관리 모듈
  - 사용자 관리 모듈
    - 인증 및 접속 관리
    - 사용자 서비스 관리
    - SLA 관리
  - 모니터링 모듈
    - 서비스 모니터링
    - 자원 모니터링
  - 보안 모듈 
- `SLA` : Service Level Agreement
  - 서비스 제공업체와 고객간 맺는 서비스 품질에 대한 계약, 사전에 정의된 수준의 서비스가 제공될 수 있게 품질 보장. 
- 프로파일링
  - 속도 및 최적화에 중점, CPU와 메모리 사용량 및 실행 시간 등을 추적. 

## 빅데이터 처리 기술

### 빅데이터 처리과정과 요소 기술

1. 데이터 생성
   - 내부 데이터
   - 인터넷응로 연결된 외부로부터 생성 된 파일
2. 수집
   - 수집
   - 크롤링, ETL ( 추출, 변환, 적재 )
   - 로그 수집, 센서 네트워크, Open API 등..
3. 저장(공유)
   - 정형, 반정형, 비정형 데이터 포함
   - DBMS or Hadoop, NoSQL 등 다양한 기술
   - 시스템 간의 데이터를 서로 공유 가능
4. 처리
   - 분산 병령, 인메모리(In-Memory) 방식으로 실시간 처리
   - 하둡 or 맵리듀스를 활용
5. 분석
   - 데이터를 신속 정확 분석, 비즈니스에 기여
   - 분야 및 목적에 맞는 분석 기법 선택 중요
   - 통계분석, 데이터 마이닝, 텍스트 마이닝, 기계학습 등... 
6. 시각화
   - 빅데이터 처리 및 분석 결과를 사용자에게 보여주는 기술
   - 해석에 활용
   - 정보 시각화 기술, 시각화 도구, 편집 기술, 실시간 자료 시각화 기술

### 빅데이터 수집

1. 크롤링(Crawling)
2. 로그 수집기
3. 센서 네트워크
4. RSS Reader/Open API
   - 데이터의 생산, 공유, 참여할 수 있는 환경인 웹 2.0을 구현하는 기술 
   - 필요 데이터를 프로그래밍을 통해 수집 가능. 
5. ETL 프로세스 ( Extract, Transform, Load )   
   - 다양한 원천 데이터를 취합해 추출하고 공통된 형식으로 변환하여 적재하는 과정 

### 빅데이터 저장

1. NoSQL( Not-only SQL )
   - 기존의 RDBMS 트랜잭션 속성인 원자성(Atomicity), 일관성(Consistency), 독립성(Isolation), 지속성(Durability)를 유연하게 적용  
   - `Cloudata`, `Hbase`, `Cassandra`, `MongoDB` 등
2. 공유 데이터 시스템 (Shared-data System)
    - 일관성, 가용성(Availability), 분할 내성(Partition Tolerance) 중에서 두개의 속성만 보유 가능 ( CAP 이론 )
    - `CAP이론`
        - **C (Consistency, 일관성)**: 모든 노드가 동시에 같은 데이터를 보는 것
        - **A (Availability, 가용성)**: 시스템이 항상 동작하고 요청에 응답하는 것
        - **P (Partition Tolerance, 분할 내성)**: 네트워크 분할이 발생해도 시스템이 계속 동작
        - **CAP 조합**
            - **CA**: 전통적인 RDBMS (MySQL, PostgreSQL)
            - **CP**: MongoDB, HBase, Redis Cluster
            - **AP**: Cassandra, DynamoDB, CouchDB
        - 분산 시스템에서는 P(분할내성)를 포기할 수 없으므로 실제로는 CP vs AP 선택
3. 병렬 데이터베이스 관리 시스템(Parallel Database Management System)
    - 다수의 마이크로 프로세서를 사용 - 여러 디스크에 질의, 갱신, 입출력 등 데이터베이스 처리를 동시에 수행
    - **VoltDB**
        - 인메모리 OLTP 데이터베이스
        - 초고속 트랜잭션 처리 (백만 TPS 이상)
        - ACID 속성 완전 지원, SQL 호환
    - **SAP HANA**
        - 인메모리 컬럼 지향 데이터베이스
        - OLTP와 OLAP 통합 처리
        - 실시간 분석 및 애플리케이션 플랫폼
    - **Vertica**
        - HP(현 OpenText)의 컬럼 지향 분석 데이터베이스
        - 대용량 데이터 웨어하우스에 최적화
        - 압축률이 높고 빠른 분석 성능
    - **Greenplum**
        - VMware의 대규모 병렬 처리(MPP) 데이터베이스
        - PostgreSQL 기반, 페타바이트급 데이터 처리
        - 오픈소스와 상용 버전 제공
    - **Netezza**
        - IBM의 데이터 웨어하우스 어플라이언스
        - 하드웨어-소프트웨어 통합 솔루션
        - 복잡한 분석 쿼리에 최적화
4. `분산 파일 시스템`
    - 네트워크로 공유하는 여러 호스트의 파일에 접근할 수 있는 파일 시스템
    - 데이터를 분산하여 저장하면 데이터 추출 및 가공 시 빠르게 처리 가능
    - **GFS(Google File System)**
        - Google에서 개발한 분산 파일 시스템
        - 대용량 파일 처리에 최적화 (수 GB ~ TB)
        - 마스터-청크서버 구조, 64MB 청크 단위
        - 3개 복제본으로 내결함성 제공
    - **HDFS(Hadoop Distributed File System)**
        - GFS 기반 오픈소스 구현체
        - 네임노드-데이터노드 구조
        - 기본 128MB 블록 단위, Write-once Read-many 모델
        - Hadoop 생태계의 핵심 구성요소
    - **Amazon S3(Simple Storage Service)**
        - AWS의 클라우드 객체 스토리지 서비스
        - REST API 기반 접근
        - 버킷-객체 구조, 무제한 확장성
        - 99.999999999% 내구성, 다양한 스토리지 클래스 제공 

### 빅데이터 처리 

- 분산 시스템
  - 네트워크상에 분산되어 있는 컴퓨터를 단일 시스템인 것 처름 구동
  - 각 노드는 독립
  - 독립이지만 마치 단일 시스템 처럼
- 병령 시스템 
  - 문제 해결을 위해 CPU등의 자원을 데이터 버스나 지역 통신 시스템 등으로 연결하여 구동
  - 분할 된 작업을 동시에 처리하여 계산 속도를 빠르게 한다
  - 분산 아키텍처, 병렬 처리/고성능 처리, 데이터 파티셔닝을 통한 데이터 병렬성, 데이터복제와 분산
- 분산 병렬 컴퓨팅 
  - 다수의 독립된 컴퓨팅 자원을 네트워크상에 연결하여 이를 제어하는 미들웨어를 이용해 하나의 시스템으로 동작하게 하는 기술 